# Ce fichier n'est plus utilis√© directement.
# Voir playbooks/example.postgres_instances.yaml pour configurer plusieurs instances

k8s:
  namespace: 

helm:
  # check official links (https://airflow.apache.org/docs/helm-chart/stable/index.html)
  repo_name: bitnamilegacy
  repo_url: https://charts.bitnami.com/bitnami
  chart_name: postgresql
  release_name: postgres

image:
  registry: docker.io
  repository: bitnamilegacy/postgresql
  tag: 17.6.0-debian-12-r4


databases:
  - release_name: postgres-prod
    # Path where jinja template is rendered
    tmp_path: /tmp/postgres_prod_values.yaml
    auth:
      # Password for the "postgres" admin user
      postgresPassword:
      # User to create
      username:
      password:
      database: defaultdb
    primary:
      name: main
      resources:
        limits:
          cpu: "2"
          memory: 10Gi
        requests:
          cpu: 250m
          memory: 5Gi
      persistence:
        volumeName: "data"
        size: 20Gi

  - release_name: postgres-dev
    # Path where jinja template is rendered
    tmp_path: /tmp/postgres_dev_values.yaml
    auth:
      # Password for the "postgres" admin user
      postgresPassword:
      # User to create
      username:
      password:
      database: defaultdb
    primary:
      name: main
      resources:
        limits:
          cpu: "2"
          memory: 10Gi
        requests:
          cpu: 250m
          memory: 5Gi
      persistence:
        volumeName: "data"
        size: 20Gi
